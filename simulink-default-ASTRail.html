<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <title>ASTRail Moving Block System</title><meta name="generator" content="DocBook MathWorks XSL Stylesheets V1.75.2-mathworks"><meta name="description" content="This is an automatically generated report for the ASTRail moving-block system. For further information, please refer to http://www.astrail.eu/"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div lang="it" class="book" title="ASTRail Moving Block System"><div class="titlepage"><div><div><h1 class="title"><a name="d152e1"></a>ASTRail Moving Block System</h1></div><div><h2 class="subtitle"></h2></div><div><div class="author"><h3 class="author"><span class="firstname">fmt_lab_win</span></h3></div></div><div><p class="pubdate">12-Apr-2019 15:35:00</p></div><div><div class="abstract" title="Sommario"><p class="title"><b>Sommario</b></p><p><span>This is an automatically generated report for the ASTRail moving-block system.
For further information, please refer to http://www.astrail.eu/</span></p></div></div></div><hr></div><div class="toc"><p><b>Indice</b></p><dl><dt><span class="chapter"><a href="#9fee9b32c645f42fb7e2a1044275875d">1. moving_block_decomposed_msg_train</a></span></dt><dd><dl><dt><span class="sect1"><a href="#ae64d1c871106717e404f599fb0b75ec">moving_block_decomposed_msg_train</a></span></dt></dl></dd><dt><span class="chapter"><a href="#1af5550e91e8852e837a5e490cc985da">2. Chart - OBU</a></span></dt><dt><span class="chapter"><a href="#a025f50feb2d65d7b5f63b20dc4c9df9">3. Chart - Train</a></span></dt><dt><span class="chapter"><a href="#68520b9cb4ebb4b565ac139a07c7f74e">4. Chart - LU - Location Unit</a></span></dt><dt><span class="chapter"><a href="#f3618dd7c838a5c5fa2f09e7e6e7b9da">5. Chart - RBC</a></span></dt></dl></div><div class="list-of-tables"><p><b>Lista delle tabelle</b></p><dl><dt>2.1. <a href="#d152e90">Chart Properties</a></dt><dt>2.2. <a href="#d152e121">Data Properties</a></dt><dt>2.3. <a href="#d152e259">Function Properties</a></dt><dt>2.4. <a href="#d152e314">State Properties</a></dt><dt>3.1. <a href="#d152e440">Chart Properties</a></dt><dt>3.2. <a href="#d152e465">Data Properties</a></dt><dt>3.3. <a href="#d152e524">State Properties</a></dt><dt>4.1. <a href="#d152e574">Chart Properties</a></dt><dt>4.2. <a href="#d152e605">Data Properties</a></dt><dt>4.3. <a href="#d152e641">Function Properties</a></dt><dt>4.4. <a href="#d152e654">State Properties</a></dt><dt>5.1. <a href="#d152e704">Chart Properties</a></dt><dt>5.2. <a href="#d152e735">Data Properties</a></dt><dt>5.3. <a href="#d152e856">Function Properties</a></dt><dt>5.4. <a href="#d152e905">State Properties</a></dt></dl></div><div class="chapter" title="Capitolo&nbsp;1.&nbsp;moving_block_decomposed_msg_train"><div class="titlepage"><div><div><h2 class="title"><a name="9fee9b32c645f42fb7e2a1044275875d"></a>Capitolo&nbsp;1.&nbsp;moving_block_decomposed_msg_train</h2></div></div></div><div class="toc"><p><b>Indice</b></p><dl><dt><span class="sect1"><a href="#ae64d1c871106717e404f599fb0b75ec">moving_block_decomposed_msg_train</a></span></dt></dl></div><div class="sect1" title="moving_block_decomposed_msg_train"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="ae64d1c871106717e404f599fb0b75ec"></a>moving_block_decomposed_msg_train</h2></div></div></div><div class="mediaobject"><map name="d152e13"></map><img src="./simulink-default-ASTRail_html_files/image-002-sl.png" usemap="%0A                #d152e13" ismap="" border="0"></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc" compact><li class="listitem"><p class="simpara"><a class="link" href="#9fee9b32c645f42fb7e2a1044275875d" title="Capitolo&nbsp;1.&nbsp;moving_block_decomposed_msg_train">moving_block_decomposed_msg_train</a></p><div class="itemizedlist"><ul class="itemizedlist" type="circle" compact><li class="listitem">LU - Location Unit</li><li class="listitem">OBU - Onboard Unit</li><li class="listitem">RBC - Radio Block Center</li><li class="listitem">TRAIN_INFO</li></ul></div></li></ul></div></div><div class="chapter" title="Capitolo&nbsp;2.&nbsp;Chart - OBU"><div class="titlepage"><div><div><h2 class="title"><a name="1af5550e91e8852e837a5e490cc985da"></a>Capitolo&nbsp;2.&nbsp;Chart - OBU</h2></div></div></div><a name="d152e90"></a><div class="table"><p class="title"><b>Tabella&nbsp;2.1.&nbsp;Chart Properties</b></p><div class="table-contents"><table summary="Chart Properties" border="1" cellspacing="0" fastRender="1" width="100%"><col width="100.0%"><thead><tr><th align="left">Name</th></tr></thead><tbody><tr><td align="left"><a class="link" href="#1af5550e91e8852e837a5e490cc985da" title="Capitolo&nbsp;2.&nbsp;Chart - OBU">OBU</a></td></tr></tbody></table></div></div><div class="mediaobject"><map name="d152e105"><area coords="836,9,845,24" shape="rect" href="#6312bac1856bc8396d3e7fb4b6cf1adb"><area coords="842,1565,851,1580" shape="rect" href="#f705391b6ec1010ff1fd656fbe994ed1"><area coords="54,54,1628,118" shape="rect" href="#6312bac1856bc8396d3e7fb4b6cf1adb"><area coords="54,135,1639,1534" shape="rect" href="#f705391b6ec1010ff1fd656fbe994ed1"></map><img src="./simulink-default-ASTRail_html_files/image-004-sf.png" usemap="%0A                #d152e105" ismap="" border="0"><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p>(1)</p></td><td valign="top" align="left"><p><a class="link" href="#6312bac1856bc8396d3e7fb4b6cf1adb">MESSAGE_QUEUE_MANAGER</a></p></td></tr><tr><td width="5%" valign="top" align="left"><p>(2)</p></td><td valign="top" align="left"><p><a class="link" href="#f705391b6ec1010ff1fd656fbe994ed1">OBU_MAIN</a></p></td></tr></table></div></div><a name="d152e121"></a><div class="table"><p class="title"><b>Tabella&nbsp;2.2.&nbsp;Data Properties</b></p><div class="table-contents"><table summary="Data Properties" border="1" cellspacing="0" fastRender="1" width="100%"><col width="66.66666666666666%"><col width="33.33333333333333%"><thead><tr><th align="left">Name</th><th align="left">Scope</th></tr></thead><tbody><tr><td align="left"><a name="c78b9b41ef06f4f28716d57006fb8853"></a>i_current_location</td><td align="left">Input</td></tr><tr><td align="left"><a name="771af59e3f482a28daa50e7d35544988"></a>i_current_time</td><td align="left">Input</td></tr><tr><td align="left"><a name="18c126b4fe2d77e79bf5eec15d39c561"></a>i_MA_reference</td><td align="left">Input</td></tr><tr><td align="left"><a name="b768dd70904fb8bab66ebba22184ff10"></a>i_MA_value</td><td align="left">Input</td></tr><tr><td align="left"><a name="1a52c1f0e3d3fac666a15a4949a859ee"></a>i_time_reference</td><td align="left">Input</td></tr><tr><td align="left"><a name="30d7c6453e62d3fa2c3c1d31d04dd8a9"></a>l_current_loc_timestamp</td><td align="left">Local</td></tr><tr><td align="left"><a name="647b5cc0142227251b57c29307cdf5f8"></a>l_current_location</td><td align="left">Local</td></tr><tr><td align="left"><a name="b7a04e3abb348565146382b86c00fbde"></a>MA_reference</td><td align="left">Local</td></tr><tr><td align="left"><a name="7d84216e345ad6632931aeeb31b33d38"></a>MA_value</td><td align="left">Local</td></tr><tr><td align="left"><a name="0195a98bc648188a706b35731ec24dc2"></a>o_current_space_limit</td><td align="left">Output</td></tr><tr><td align="left"><a name="8b82f655717b81e1d5c73bd5d4c1857e"></a>o_status</td><td align="left">Output</td></tr><tr><td align="left"><a name="4a1f735a16574f2d427892774a03d040"></a>OBU_alarm_from_LU</td><td align="left">Input</td></tr><tr><td align="left"><a name="bde05e1bb667352b3054f41972af48c1"></a>OBU_fail</td><td align="left">Input</td></tr><tr><td align="left"><a name="f3821d26469744d151f4bbef72a7c321"></a>OBU_out_brake</td><td align="left">Output</td></tr><tr><td align="left"><a name="3c061aef50478267d27117fc4cf50c55"></a>OBU_out_current_space_limit</td><td align="left">Output</td></tr><tr><td align="left"><a name="de80acb87b44a06fb19fb6b9fbb98bd9"></a>OBU_out_timer</td><td align="left">Output</td></tr><tr><td align="left"><a name="2ac90f4b043aaf935b28f5fad7c055a0"></a>OBU_out_timer_ref</td><td align="left">Local</td></tr><tr><td align="left"><a name="461b1c2b5d98fe98d099b35247ec78b8"></a>OBU_REC_location_flg</td><td align="left">Local</td></tr><tr><td align="left"><a name="fec0682a45ccc0ea855b619d718e5e7f"></a>OBU_REC_MA_flg</td><td align="left">Local</td></tr><tr><td align="left"><a name="0d90d70597f993fb802c1ed47784c2ef"></a>OBU_reset</td><td align="left">Input</td></tr><tr><td align="left"><a name="ba3726d76e2203b908241e06608f3f78"></a>OBU_train_stopped</td><td align="left">Input</td></tr></tbody></table></div></div><a name="d152e259"></a><div class="table"><p class="title"><b>Tabella&nbsp;2.3.&nbsp;Function Properties</b></p><div class="table-contents"><table summary="Function Properties" border="1" cellspacing="0" fastRender="1" width="100%"><col width="50.0%"><col width="50.0%"><thead><tr><th align="left">Name</th><th align="left">Data</th></tr></thead><tbody><tr><td align="left"><a name="4503702f4c18c3b8615de1e195832585"></a>read_msg_queue</td><td> </td></tr><tr><td align="left"><a name="ad16cb1389719cf441806d72e98100d2"></a>check_location_fresh</td><td align="left"><table border="0" summary="Simple list" class="simplelist"><tr><td><a class="link" href="#771af59e3f482a28daa50e7d35544988">i_current_time</a></td></tr><tr><td><a class="link" href="#1a52c1f0e3d3fac666a15a4949a859ee">i_time_reference</a></td></tr><tr><td><a class="link" href="#8b82f655717b81e1d5c73bd5d4c1857e">o_status</a></td></tr></table></td></tr><tr><td align="left"><a name="d190226144309bfb97f11c188851c77c"></a>get_current_space_limit</td><td align="left"><table border="0" summary="Simple list" class="simplelist"><tr><td><a class="link" href="#b768dd70904fb8bab66ebba22184ff10">i_MA_value</a></td></tr><tr><td><a class="link" href="#18c126b4fe2d77e79bf5eec15d39c561">i_MA_reference</a></td></tr><tr><td><a class="link" href="#c78b9b41ef06f4f28716d57006fb8853">i_current_location</a></td></tr><tr><td><a class="link" href="#0195a98bc648188a706b35731ec24dc2">o_current_space_limit</a></td></tr></table></td></tr><tr><td align="left"><a name="1c8adf6fed5c8106ce0839a049f8dd85"></a>check_new_location</td><td> </td></tr></tbody></table></div></div><a name="d152e314"></a><div class="table"><p class="title"><b>Tabella&nbsp;2.4.&nbsp;State Properties</b></p><div class="table-contents"><table summary="State Properties" border="1" cellspacing="0" fastRender="1" width="100%"><col width="50.0%"><col width="50.0%"><thead><tr><th align="left">Name</th><th align="left">LabelString</th></tr></thead><tbody><tr><td align="left"><a name="6312bac1856bc8396d3e7fb4b6cf1adb"></a>MESSAGE_QUEUE_MANAGER</td><td align="left"><table border="0" summary="Simple list" class="simplelist"><tr><td>MESSAGE_QUEUE_MANAGER</td></tr><tr><td>en: OBU_REC_location_flg = 0; OBU_REC_MA_flg = 0; read_msg_queue;</td></tr><tr><td>du: read_msg_queue</td></tr></table></td></tr><tr><td align="left"><a name="f705391b6ec1010ff1fd656fbe994ed1"></a>OBU_MAIN</td><td align="left">OBU_MAIN</td></tr><tr><td align="left"><a name="c9aacc1e7e6e3831dccce63a9ebe3a94"></a>RUN</td><td align="left"><table border="0" summary="Simple list" class="simplelist"><tr><td>RUN</td></tr><tr><td>en: OBU_out_timer = 0; MA_value = 0; MA_reference = 0; l_current_location = 0; l_current_loc_timestamp = 0;</td></tr></table></td></tr><tr><td align="left"><a name="3891cd56773b02566aad83225f9259dc"></a>BRAKE</td><td align="left"><table border="0" summary="Simple list" class="simplelist"><tr><td>BRAKE</td></tr><tr><td>en: OBU_out_brake = 1;</td></tr><tr><td>ex: OBU_out_brake = 0;</td></tr></table></td></tr><tr><td align="left"><a name="e51c2b13ff6b27c559eca8dbe811fa0d"></a>GENERATE_LOCATION_REQUEST</td><td align="left">GENERATE_LOCATION_REQUEST</td></tr><tr><td align="left"><a name="5652847b4fd2d25cdcf7f9cf7ddb4842"></a>SEND_LOCATION_TO_RBC</td><td align="left">SEND_LOCATION_TO_RBC</td></tr><tr><td align="left"><a name="538d312199f0b37c198f65e4fe702235"></a>RECEIVE_MA</td><td align="left">RECEIVE_MA</td></tr><tr><td align="left"><a name="69e55fa1261024b30166e94e1dd9e002"></a>COMPUTE_BRAKING_CURVE</td><td align="left"><table border="0" summary="Simple list" class="simplelist"><tr><td>COMPUTE_BRAKING_CURVE</td></tr><tr><td>en: OBU_out_current_space_limit = get_current_space_limit(MA_value, MA_reference, l_current_location);</td></tr><tr><td>du: OBU_out_current_space_limit = get_current_space_limit(MA_value, MA_reference, l_current_location);</td></tr></table></td></tr><tr><td align="left"><a name="7ecd00e64761e7ee1d2536f3d8249315"></a>LocationRequest</td><td align="left">LocationRequest</td></tr><tr><td align="left"><a name="9b0e469887f1592a723ff80f040ac17e"></a>SEND_LOC_TO_RBC</td><td align="left"><table border="0" summary="Simple list" class="simplelist"><tr><td>SEND_LOC_TO_RBC</td></tr><tr><td>en: check_new_location();</td></tr><tr><td>du: check_new_location();</td></tr></table></td></tr><tr><td align="left"><a name="d9be711f3213184f89382a96c88fe1ce"></a>POSITION_ERROR</td><td align="left">POSITION_ERROR</td></tr><tr><td align="left"><a name="15e9657e050b0af39cb6d13b73c48af1"></a>NEW_MA_RECEIVED</td><td align="left"><table border="0" summary="Simple list" class="simplelist"><tr><td>NEW_MA_RECEIVED</td></tr><tr><td>en:</td></tr><tr><td>OBU_out_timer_ref = t;</td></tr><tr><td>du:</td></tr><tr><td>OBU_out_timer =  t - OBU_out_timer_ref;</td></tr></table></td></tr></tbody></table></div></div></div><div class="chapter" title="Capitolo&nbsp;3.&nbsp;Chart - Train"><div class="titlepage"><div><div><h2 class="title"><a name="a025f50feb2d65d7b5f63b20dc4c9df9"></a>Capitolo&nbsp;3.&nbsp;Chart - Train</h2></div></div></div><a name="d152e440"></a><div class="table"><p class="title"><b>Tabella&nbsp;3.1.&nbsp;Chart Properties</b></p><div class="table-contents"><table summary="Chart Properties" border="1" cellspacing="0" fastRender="1" width="100%"><col width="100.0%"><thead><tr><th align="left">Name</th></tr></thead><tbody><tr><td align="left"><a class="link" href="#a025f50feb2d65d7b5f63b20dc4c9df9" title="Capitolo&nbsp;3.&nbsp;Chart - Train">Train</a></td></tr></tbody></table></div></div><div class="mediaobject"><map name="d152e455"><area coords="481,9,490,24" shape="rect" href="#39faa881dd7f18ad7234e833219537b0"><area coords="54,54,918,385" shape="rect" href="#39faa881dd7f18ad7234e833219537b0"></map><img src="./simulink-default-ASTRail_html_files/image-006-sf.png" usemap="%0A                #d152e455" ismap="" border="0"><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p>(1)</p></td><td valign="top" align="left"><p><a class="link" href="#39faa881dd7f18ad7234e833219537b0">TRAIN_DATA</a></p></td></tr></table></div></div><a name="d152e465"></a><div class="table"><p class="title"><b>Tabella&nbsp;3.2.&nbsp;Data Properties</b></p><div class="table-contents"><table summary="Data Properties" border="1" cellspacing="0" fastRender="1" width="100%"><col width="50.0%"><col width="25.0%"><col width="25.0%"><thead><tr><th align="left">Name</th><th align="left">InitValue</th><th align="left">Scope</th></tr></thead><tbody><tr><td align="left"><a name="72a65e407aa12aefc102e6a7db817ac2"></a>in_brake</td><td> </td><td align="left">Input</td></tr><tr><td align="left"><a name="c54189a305be9b975be969992ecc34bd"></a>in_speed</td><td> </td><td align="left">Input</td></tr><tr><td align="left"><a name="c168c34c1e3e45e81907d501c27795ab"></a>out_space</td><td> </td><td align="left">Output</td></tr><tr><td align="left"><a name="41e58ba9cd6ad4b52e1b8b624eaff1bb"></a>out_space_old</td><td align="left">0</td><td align="left">Local</td></tr><tr><td align="left"><a name="e7e7ecc8c7870d99b4ccbfc090434139"></a>out_train_stopped</td><td align="left">uint8(0)</td><td align="left">Output</td></tr><tr><td align="left"><a name="0d5703553a3779969a404c7b520bda81"></a>t_ref</td><td> </td><td align="left">Local</td></tr></tbody></table></div></div><a name="d152e524"></a><div class="table"><p class="title"><b>Tabella&nbsp;3.3.&nbsp;State Properties</b></p><div class="table-contents"><table summary="State Properties" border="1" cellspacing="0" fastRender="1" width="100%"><col width="50.0%"><col width="50.0%"><thead><tr><th align="left">Name</th><th align="left">LabelString</th></tr></thead><tbody><tr><td align="left"><a name="39faa881dd7f18ad7234e833219537b0"></a>TRAIN_DATA</td><td align="left"><table border="0" summary="Simple list" class="simplelist"><tr><td>TRAIN_DATA</td></tr><tr><td>en: out_space = 0;</td></tr></table></td></tr><tr><td align="left"><a name="4f83d15b21819f47c27cb07034c60987"></a>TRAIN_STANDING</td><td align="left"><table border="0" summary="Simple list" class="simplelist"><tr><td>TRAIN_STANDING</td></tr><tr><td>en: out_train_stopped = 1;</td></tr></table></td></tr><tr><td align="left"><a name="d41934b93e6f48414d9b2c77d1eaefaf"></a>TRAIN_MOVING</td><td align="left"><table border="0" summary="Simple list" class="simplelist"><tr><td>TRAIN_MOVING</td></tr><tr><td>en: t_ref = t; out_train_stopped = 0;</td></tr><tr><td>du: out_space = (in_speed * (t - t_ref))*0.05 + out_space_old;</td></tr><tr><td>ex: out_space_old = out_space;</td></tr></table></td></tr></tbody></table></div></div></div><div class="chapter" title="Capitolo&nbsp;4.&nbsp;Chart - LU - Location Unit"><div class="titlepage"><div><div><h2 class="title"><a name="68520b9cb4ebb4b565ac139a07c7f74e"></a>Capitolo&nbsp;4.&nbsp;Chart - LU - Location Unit</h2></div></div></div><a name="d152e574"></a><div class="table"><p class="title"><b>Tabella&nbsp;4.1.&nbsp;Chart Properties</b></p><div class="table-contents"><table summary="Chart Properties" border="1" cellspacing="0" fastRender="1" width="100%"><col width="100.0%"><thead><tr><th align="left">Name</th></tr></thead><tbody><tr><td align="left"><a class="link" href="#68520b9cb4ebb4b565ac139a07c7f74e" title="Capitolo&nbsp;4.&nbsp;Chart - LU - Location Unit">LU - Location Unit</a></td></tr></tbody></table></div></div><div class="mediaobject"><map name="d152e589"><area coords="481,9,490,24" shape="rect" href="#99ef199a92d3374f6fe568aff5016a61"><area coords="481,641,490,656" shape="rect" href="#316557018552fc4f502ee0304c5e6792"><area coords="54,54,916,208" shape="rect" href="#99ef199a92d3374f6fe568aff5016a61"><area coords="56,226,914,611" shape="rect" href="#316557018552fc4f502ee0304c5e6792"></map><img src="./simulink-default-ASTRail_html_files/image-008-sf.png" usemap="%0A                #d152e589" ismap="" border="0"><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p>(1)</p></td><td valign="top" align="left"><p><a class="link" href="#99ef199a92d3374f6fe568aff5016a61">MESSAGE_QUEUE_MANAGER</a></p></td></tr><tr><td width="5%" valign="top" align="left"><p>(2)</p></td><td valign="top" align="left"><p><a class="link" href="#316557018552fc4f502ee0304c5e6792">LU_MAIN</a></p></td></tr></table></div></div><a name="d152e605"></a><div class="table"><p class="title"><b>Tabella&nbsp;4.2.&nbsp;Data Properties</b></p><div class="table-contents"><table summary="Data Properties" border="1" cellspacing="0" fastRender="1" width="100%"><col width="66.66666666666666%"><col width="33.33333333333333%"><thead><tr><th align="left">Name</th><th align="left">Scope</th></tr></thead><tbody><tr><td align="left"><a name="2e8c74fcc011aeb8b13aec8eca71abda"></a>LU_current_location</td><td align="left">Input</td></tr><tr><td align="left"><a name="d866293b3df69b36f569f25df6cd6d28"></a>LU_fail</td><td align="left">Input</td></tr><tr><td align="left"><a name="c516e83a26fd2a67077041076c8e1a68"></a>LU_REC_location_request_flg</td><td align="left">Local</td></tr><tr><td align="left"><a name="936825b93fe3c48e2491aee390c9d7eb"></a>out_alarm</td><td align="left">Output</td></tr></tbody></table></div></div><a name="d152e641"></a><div class="table"><p class="title"><b>Tabella&nbsp;4.3.&nbsp;Function Properties</b></p><div class="table-contents"><table summary="Function Properties" border="1" cellspacing="0" fastRender="1" width="100%"><col width="100.0%"><thead><tr><th align="left">Name</th></tr></thead><tbody><tr><td align="left"><a name="06413b2d221417681a0f2feb52b80fad"></a>read_msg_queue</td></tr></tbody></table></div></div><a name="d152e654"></a><div class="table"><p class="title"><b>Tabella&nbsp;4.4.&nbsp;State Properties</b></p><div class="table-contents"><table summary="State Properties" border="1" cellspacing="0" fastRender="1" width="100%"><col width="50.0%"><col width="50.0%"><thead><tr><th align="left">Name</th><th align="left">LabelString</th></tr></thead><tbody><tr><td align="left"><a name="99ef199a92d3374f6fe568aff5016a61"></a>MESSAGE_QUEUE_MANAGER</td><td align="left"><table border="0" summary="Simple list" class="simplelist"><tr><td>MESSAGE_QUEUE_MANAGER</td></tr><tr><td>en: read_msg_queue();</td></tr><tr><td>du: read_msg_queue();</td></tr></table></td></tr><tr><td align="left"><a name="316557018552fc4f502ee0304c5e6792"></a>LU_MAIN</td><td align="left">LU_MAIN</td></tr><tr><td align="left"><a name="c52fc7b48d0a6fc65da73b48ed331cbc"></a>SEND_LOC</td><td align="left"><table border="0" summary="Simple list" class="simplelist"><tr><td>SEND_LOC</td></tr><tr><td>en: out_alarm = 0;</td></tr></table></td></tr><tr><td align="left"><a name="71ce4801ffe7c13f78c9d7ce10452c32"></a>LU_FAIL</td><td align="left">LU_FAIL</td></tr></tbody></table></div></div></div><div class="chapter" title="Capitolo&nbsp;5.&nbsp;Chart - RBC"><div class="titlepage"><div><div><h2 class="title"><a name="f3618dd7c838a5c5fa2f09e7e6e7b9da"></a>Capitolo&nbsp;5.&nbsp;Chart - RBC</h2></div></div></div><a name="d152e704"></a><div class="table"><p class="title"><b>Tabella&nbsp;5.1.&nbsp;Chart Properties</b></p><div class="table-contents"><table summary="Chart Properties" border="1" cellspacing="0" fastRender="1" width="100%"><col width="100.0%"><thead><tr><th align="left">Name</th></tr></thead><tbody><tr><td align="left"><a class="link" href="#f3618dd7c838a5c5fa2f09e7e6e7b9da" title="Capitolo&nbsp;5.&nbsp;Chart - RBC">RBC</a></td></tr></tbody></table></div></div><div class="mediaobject"><map name="d152e719"><area coords="770,9,779,24" shape="rect" href="#d62b27f514c0d3dfecffa02383fba641"><area coords="760,1209,769,1224" shape="rect" href="#77130279a35cb2e16dfe3a8be36d1512"><area coords="54,54,1494,138" shape="rect" href="#d62b27f514c0d3dfecffa02383fba641"><area coords="54,164,1475,1179" shape="rect" href="#77130279a35cb2e16dfe3a8be36d1512"></map><img src="./simulink-default-ASTRail_html_files/image-010-sf.png" usemap="%0A                #d152e719" ismap="" border="0"><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p>(1)</p></td><td valign="top" align="left"><p><a class="link" href="#d62b27f514c0d3dfecffa02383fba641">MESSAGE_QUEUE_MANAGER</a></p></td></tr><tr><td width="5%" valign="top" align="left"><p>(2)</p></td><td valign="top" align="left"><p><a class="link" href="#77130279a35cb2e16dfe3a8be36d1512">RBC_MAIN</a></p></td></tr></table></div></div><a name="d152e735"></a><div class="table"><p class="title"><b>Tabella&nbsp;5.2.&nbsp;Data Properties</b></p><div class="table-contents"><table summary="Data Properties" border="1" cellspacing="0" fastRender="1" width="100%"><col width="50.0%"><col width="25.0%"><col width="25.0%"><thead><tr><th align="left">Name</th><th align="left">InitValue</th><th align="left">Scope</th></tr></thead><tbody><tr><td align="left"><a name="dfda51391623a555bc07aaf3f22a5f12"></a>i_OBU_location</td><td> </td><td align="left">Input</td></tr><tr><td align="left"><a name="cc4a7188ba13dd212eab3eb2c5c65d6f"></a>i_OBU_timestamp</td><td> </td><td align="left">Input</td></tr><tr><td align="left"><a name="c932168a604762f39c15d2c8a7a1aeb9"></a>i_previous_MA</td><td> </td><td align="left">Input</td></tr><tr><td align="left"><a name="ac120c3b31825b9878f9f440e2b4b561"></a>i_previous_train_pos</td><td> </td><td align="left">Input</td></tr><tr><td align="left"><a name="370a74c33b007eef9e80abb9f1d5be18"></a>INIT_TRAIN_POSITION_VALUE</td><td align="left">1000000</td><td align="left">Constant</td></tr><tr><td align="left"><a name="e020eed5c648bf747a62f5e51e7c2a8b"></a>l_count_MA_sent</td><td> </td><td align="left">Output</td></tr><tr><td align="left"><a name="932d718a34742c0479de110abbbc7dfa"></a>l_timeref_last_MA_sent</td><td> </td><td align="left">Local</td></tr><tr><td align="left"><a name="6f75f28db4cb5a0b3f7ae0b254c4ebe3"></a>MA_ACK_from_OBU_flg</td><td> </td><td align="left">Local</td></tr><tr><td align="left"><a name="a67359b7d42a7bd7d1f0d075f7a2f28a"></a>o_timestamp</td><td> </td><td align="left">Output</td></tr><tr><td align="left"><a name="c8459d1da2bd97c4b4eb87ec0eb38a8a"></a>OBU_current_location</td><td> </td><td align="left">Local</td></tr><tr><td align="left"><a name="30f4449e9e7b2e01ce68d494f7f9802f"></a>OBU_current_timestamp</td><td> </td><td align="left">Local</td></tr><tr><td align="left"><a name="732396485912210f155cf9c37b36557a"></a>previous_MA</td><td> </td><td align="left">Local</td></tr><tr><td align="left"><a name="aefa3baa0a7503a8fee32b6823bc161f"></a>previous_train_pos</td><td> </td><td align="left">Local</td></tr><tr><td align="left"><a name="62c34973201dff738655dfce371cad97"></a>RBC_fail</td><td> </td><td align="left">Input</td></tr><tr><td align="left"><a name="e797227f29026bded763d33a9906dd6a"></a>RBC_REC_location_flg</td><td> </td><td align="left">Local</td></tr></tbody></table></div></div><a name="d152e856"></a><div class="table"><p class="title"><b>Tabella&nbsp;5.3.&nbsp;Function Properties</b></p><div class="table-contents"><table summary="Function Properties" border="1" cellspacing="0" fastRender="1" width="100%"><col width="50.0%"><col width="50.0%"><thead><tr><th align="left">Name</th><th align="left">Data</th></tr></thead><tbody><tr><td align="left"><a name="d519a8757e5aaac1e7fd7fd70848716e"></a>read_msg_queue</td><td> </td></tr><tr><td align="left"><a name="9baab649e05a4a4b2af254d2b94a64e0"></a>set_current_MA_value</td><td align="left"><table border="0" summary="Simple list" class="simplelist"><tr><td><a class="link" href="#dfda51391623a555bc07aaf3f22a5f12">i_OBU_location</a></td></tr><tr><td><a class="link" href="#c932168a604762f39c15d2c8a7a1aeb9">i_previous_MA</a></td></tr><tr><td><a class="link" href="#ac120c3b31825b9878f9f440e2b4b561">i_previous_train_pos</a></td></tr></table></td></tr><tr><td align="left"><a name="d4c12135b9b81a6021ee33ff38d3db1b"></a>map_timebase</td><td align="left"><table border="0" summary="Simple list" class="simplelist"><tr><td><a class="link" href="#a67359b7d42a7bd7d1f0d075f7a2f28a">o_timestamp</a></td></tr><tr><td><a class="link" href="#cc4a7188ba13dd212eab3eb2c5c65d6f">i_OBU_timestamp</a></td></tr></table></td></tr><tr><td align="left"><a name="38e97882f4a03959984363d39124765e"></a>check_resend_MA</td><td> </td></tr></tbody></table></div></div><a name="d152e905"></a><div class="table"><p class="title"><b>Tabella&nbsp;5.4.&nbsp;State Properties</b></p><div class="table-contents"><table summary="State Properties" border="1" cellspacing="0" fastRender="1" width="100%"><col width="50.0%"><col width="50.0%"><thead><tr><th align="left">Name</th><th align="left">LabelString</th></tr></thead><tbody><tr><td align="left"><a name="d62b27f514c0d3dfecffa02383fba641"></a>MESSAGE_QUEUE_MANAGER</td><td align="left"><table border="0" summary="Simple list" class="simplelist"><tr><td>MESSAGE_QUEUE_MANAGER</td></tr><tr><td>en: RBC_REC_location_flg = 0; MA_ACK_from_OBU_flg = 0; read_msg_queue();</td></tr><tr><td>du: read_msg_queue();</td></tr></table></td></tr><tr><td align="left"><a name="77130279a35cb2e16dfe3a8be36d1512"></a>RBC_MAIN</td><td align="left"><table border="0" summary="Simple list" class="simplelist"><tr><td>RBC_MAIN</td></tr><tr><td>en: previous_train_pos = INIT_TRAIN_POSITION_VALUE; previous_MA = 0;</td></tr></table></td></tr><tr><td align="left"><a name="a81f042b421dff841fcfd3ddba673616"></a>SEND_MA_TO_OBU</td><td align="left">SEND_MA_TO_OBU</td></tr><tr><td align="left"><a name="d69f9ef7bb1a9f001744f5eb8b1695d5"></a>WAIT_ACK</td><td align="left"><table border="0" summary="Simple list" class="simplelist"><tr><td>WAIT_ACK</td></tr><tr><td>en: l_count_MA_sent = 1; l_timeref_last_MA_sent = t;</td></tr><tr><td>du: check_resend_MA();</td></tr></table></td></tr><tr><td align="left"><a name="bf39ab8ab78e95f1c9a9b4460cd16ef7"></a>FAIL</td><td align="left">FAIL</td></tr></tbody></table></div></div></div></div></body></html>